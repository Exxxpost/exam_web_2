# Система управления библиотекой

Веб-приложение для управления библиотечными процессами: учет книг, читателей и выданных изданий.

## Быстрый запуск

1. **Запустите файл `start.bat`** - он автоматически проверит подключение к базе данных и запустит систему
2. Откройте браузер по адресу: http://localhost:3000
3. Войдите в систему используя тестовые данные:
   - **Email:** admin@library.ru
   - **Пароль:** admin123

## Требования

- Node.js (версия 14 или выше)
- PostgreSQL (версия 12 или выше)

## Настройка базы данных

### 1. Установка PostgreSQL
Скачайте и установите PostgreSQL с официального сайта: https://www.postgresql.org/download/

### 2. Создание базы данных
```sql
-- Подключитесь к PostgreSQL и выполните:
CREATE DATABASE exam_web;
```

### 3. Инициализация таблиц
Выполните SQL скрипт из файла `backend/init_db.sql`:
```bash
psql -U postgres -d exam_web -f backend/init_db.sql
```

### 4. Настройка подключения
Проверьте файл `backend/.env` и при необходимости измените параметры подключения:
```
DB_HOST=localhost
DB_PORT=5432
DB_NAME=exam_web
DB_USER=postgres
DB_PASSWORD=1660
```

## Ручной запуск

Если автоматический запуск не работает:

### 1. Установка зависимостей
```bash
cd backend
npm install
```

### 2. Запуск сервера
```bash
cd backend
npm start
```

### 3. Открытие в браузере
Перейдите по адресу: http://localhost:3000

## Структура проекта

```
exam_web_sait/
├── backend/           # Серверная часть
│   ├── server.js     # Основной файл сервера
│   ├── package.json  # Зависимости Node.js
│   ├── .env          # Настройки базы данных
│   └── init_db.sql   # SQL скрипт инициализации
├── css/              # Стили
├── js/               # JavaScript файлы
│   ├── api.js        # API для работы с сервером
│   ├── auth.js       # Логика авторизации
│   ├── admin.js      # Панель управления
│   ├── books.js      # Каталог книг
│   └── main.js       # Общие функции
├── *.html            # HTML страницы
└── start.bat         # Скрипт автозапуска

```

## Функциональность

### Авторизация
- Вход в систему для сотрудников библиотеки
- Разные роли пользователей (администратор, библиотекарь, помощник)

### Управление книгами
- Просмотр каталога книг
- Добавление новых книг
- Редактирование информации о книгах
- Удаление книг
- Поиск и фильтрация

### Управление читателями
- Просмотр списка читателей
- Информация о читательских билетах

### Учет выданных книг
- Просмотр выданных книг
- Отслеживание сроков возврата
- Статусы книг (выдана, возвращена, просрочена)

### Статистика
- Общая статистика библиотеки
- Количество книг, читателей, выданных изданий

## Тестовые данные

В системе предустановлены тестовые данные:

### Сотрудники
- **Администратор:** admin@library.ru / admin123
- **Библиотекарь:** librarian@library.ru / librarian123
- **Помощник:** assistant@library.ru / assistant123

### Книги
- Классическая литература (Толстой, Достоевский, Булгаков)
- Современная литература (Оруэлл, Роулинг, Кристи)
- Фантастика и фэнтези

### Читатели
- 5 тестовых читателей с читательскими билетами

## Технологии

### Frontend
- HTML5, CSS3, JavaScript (ES6+)
- Font Awesome (иконки)
- Google Fonts

### Backend
- Node.js
- Express.js
- PostgreSQL
- CORS

## Поддержка

При возникновении проблем:

1. Убедитесь, что PostgreSQL запущен
2. Проверьте настройки в файле `backend/.env`
3. Убедитесь, что база данных `exam_web` создана
4. Выполните SQL скрипт инициализации
5. Проверьте, что порт 3000 свободен

## Разработка

Для разработки используйте:
```bash
cd backend
npm run dev  # Запуск с автоперезагрузкой
```